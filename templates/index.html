<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BP Stage Prediction</title>
    <style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #e3f2fd 0%, #fce4ec 100%);
        margin: 0;
        padding: 20px;
    }

    h1 {
        text-align: center;
        font-size: 36px;
        background: linear-gradient(to right, #1976d2, #d81b60);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        margin-bottom: 30px;
        animation: slideIn 1s ease-in-out;
    }

    @keyframes slideIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .info-box {
        width: 500px;
        margin: 0 auto 30px auto;
        background-color: #f1f8e9;
        color: #33691e;
        border-left: 6px solid #8bc34a;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        font-size: 14.5px;
        line-height: 1.6;
    }

    .info-box h2 {
        margin-top: 0;
        font-size: 18px;
        color: #558b2f;
    }

    form {
        width: 500px;
        margin: auto;
        background-color: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    label {
        display: block;
        margin-top: 15px;
        color: #555;
    }

    select, input[type="submit"] {
        width: 110%;
        padding: 10px;
        margin-top: 5px;
        margin-left: -5%;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 15px;
    }

    input[type="submit"] {
        background-color: #1976d2;
        color: white;
        font-weight: bold;
        cursor: pointer;
    }

    input[type="submit"]:hover {
        background-color: #1565c0;
    }

    select:hover {
        border-color: #1976d2;
        box-shadow: 0 0 5px rgba(25, 118, 210, 0.2);
    }

    .result-card {
        width: 500px;
        margin: 30px auto;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        text-align: center;
        animation: fadeIn 1s ease-in-out;
    }

    .normal {
        background: #e0f7fa;
        color: #00796b;
    }

    .stage1 {
        background: #fff9c4;
        color: #fbc02d;
    }

    .stage2 {
        background: #ffcdd2;
        color: #c62828;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .result-title {
        font-size: 22px;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .emoji {
        font-size: 32px;
        margin-bottom: 10px;
    }
    </style>
</head>
<body>

    <h1>ü©∫ Blood Pressure Stage Predictor üß†</h1>

    <div class="info-box">
        <h2>What is Blood Pressure?</h2>
        <p>
            Blood pressure (BP) is the force of blood pushing against the walls of your arteries. It is measured using two numbers: systolic (top) and diastolic (bottom).
        </p>
        <p>
            <strong>Normal:</strong> Systolic 90‚Äì120, Diastolic 60‚Äì80<br>
            <strong>Stage 1 Hypertension:</strong> Systolic 121‚Äì140, Diastolic 81‚Äì90<br>
            <strong>Stage 2 Hypertension:</strong> Systolic 141+, Diastolic 91+
        </p>
        <p>
            Managing BP is crucial to prevent heart disease, stroke, and kidney problems. A healthy diet, exercise, and regular checkups are key.
        </p>
    </div>

    <form action="/" method="post">
        <label>Gender:</label>
        <select name="gender" required>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
        </select>

        <label>Age:</label>
        <select name="Age" required>
            <option value="18-34">18-34</option>
            <option value="35-50">35-50</option>
            <option value="51-64">51-64</option>
            <option value="65+">65+</option>
        </select>

        <label>History:</label>
        <select name="History" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label>Patient:</label>
        <select name="Patient" required>
            <option value="New">New</option>
            <option value="Returning">Returning</option>
        </select>

        <label>Take Medication:</label>
        <select name="TakeMedication" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label>Severity:</label>
        <select name="Severity" required>
            <option value="Mild">Mild</option>
            <option value="Moderate">Moderate</option>
            <option value="Severe">Severe</option>
        </select>

        <label>Breath Shortness:</label>
        <select name="BreathShortness" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label>Visual Changes:</label>
        <select name="VisualChanges" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label>Nose Bleeding:</label>
        <select name="NoseBleeding" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <label>When Diagnosed:</label>
        <select name="Whendiagnoused" required>
            <option value="<1 Year">&lt;1 Year</option>
            <option value="1 - 5 Years">1 - 5 Years</option>
            <option value=">5 Years">&gt;5 Years</option>
        </select>

        <label>Systolic:</label>
        <select name="Systolic" required>
            <option value="90-120">90-120</option>
            <option value="121-130">121-130</option>
            <option value="131-140">131-140</option>
            <option value="141-160">141-160</option>
        </select>

        <label>Diastolic:</label>
        <select name="Diastolic" required>
            <option value="60-80">60-80</option>
            <option value="81-90">81-90</option>
            <option value="91-100">91-100</option>
        </select>

        <label>Controlled Diet:</label>
        <select name="ControlledDiet" required>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>

        <input type="submit" value="üîç Predict">
    </form>

    {% if prediction_text %}
        {% set stage = prediction_text.lower() %}
        <div class="result-card
            {% if 'normal' in stage %}normal
            {% elif 'stage-1' in stage %}stage1
            {% elif 'stage-2' in stage %}stage2
            {% endif %}
        ">
            <div class="emoji">
                {% if 'normal' in stage %}‚úÖ
                {% elif 'stage-1' in stage %}‚ö†Ô∏è
                {% elif 'stage-2' in stage %}üö®
                {% else %}‚ùì
                {% endif %}
            </div>
            <div class="result-title">{{ prediction_text }}</div>
        </div>
    {% endif %}

</body>
</html>
